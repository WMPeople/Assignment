<?xml version="1.0" encoding="UTF-8" ?>
 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.worksmobile.Assignment.Mapper.FileMapper">
	
 	<select id="getAllFile" resultType="com.worksmobile.Assignment.Domain.FileDTO">
		SELECT file_id, file_name, file_data, file_size
		FROM file;
	</select>
 	
 	<select id="getFile" parameterType ="int" resultType="com.worksmobile.Assignment.Domain.FileDTO">
		SELECT file_id, file_name, file_data, file_size
		FROM file
		WHERE file_id = #{file_id};  
	</select>
	
 	 <insert id="createFile" useGeneratedKeys="true" keyProperty="file_id" parameterType="com.worksmobile.Assignment.Domain.FileDTO">
        INSERT INTO file
        ( file_name,file_data,file_size)
        VALUES ( #{file_name},#{file_data,jdbcType=BLOB},#{file_size})
    </insert>

	<delete id="deleteFile" parameterType="int">
		DELETE FROM file
		WHERE file_id = #{file_id};
	</delete>
	    
    
</mapper>